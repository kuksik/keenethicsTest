{"version":3,"sources":["meteor://ðŸ’»app/imports/api/locations.js","meteor://ðŸ’»app/imports/api/messages.js","meteor://ðŸ’»app/imports/api/userAccount.js","meteor://ðŸ’»app/server/main.js"],"names":[],"mappings":";;;;;;;;;;;AAAA;;AACA;;AAEO,IAAM,gCAAY,IAAI,aAAM,UAAN,CAAiB,WAArB,CAAZ;;AAGb,IAAI,eAAO,QAAP,EAAiB;AACpB,gBAAO,OAAP,CAAe,WAAf,EAA4B,YAAW;AACtC,SAAO,UAAU,IAAV,CAAe,EAAf,CAAP,CADsC;EAAX,CAA5B,CADoB;CAArB,kH;;;;;;;;;;;;;;ACNA;;AACA;;AACA;;AAEO,IAAM,8BAAW,IAAI,aAAM,UAAN,CAAiB,UAArB,CAAX;;AAEb,IAAI,eAAO,QAAP,EAAiB;AACpB,gBAAO,OAAP,CAAe,UAAf,EAA2B,UAAS,YAAT,EAAuB;AACjD,SAAO,SAAS,IAAT,CAAc;AACpB,mBAAgB,YAAhB;GADM,CAAP,CADiD;EAAvB,CAA3B,CADoB;CAArB;;AAQA,eAAO,OAAP,CAAe;AAEd;iCAAyB,iBAAiB,aAAa;AACtD,qBAAM,eAAN,EAAuB,MAAvB,EADsD;AAEtD,qBAAM,WAAN,EAAmB,MAAnB,EAFsD;AAGtD,YAAS,MAAT,CACC,EAAE,YAAY,eAAZ,EADH,EAEC,EAAE,MAAM,EAAE,YAAY,WAAZ,EAAR,EAFH,EAGC,EAAE,OAAO,IAAP,EAHH,EAHsD;;;;IAFzC;AAad;yBAAiB,MAAM;AACtB,YAAS,MAAT,CAAgB;AACf,YAAQ,IAAR;AACA,gBAAY,IAAI,IAAJ,EAAZ;AACA,oBAAgB,eAAO,IAAP,GAAc,OAAd,CAAsB,QAAtB;AAChB,cAAU,eAAO,MAAP,EAAV;AACA,gBAAY,eAAO,IAAP,GAAc,QAAd;IALb,EADsB;;;;IAbT;CAAf,kH;;;;;;;;;;;ACdA;;AACA;;AACA;;AAEA;;AAEA;;AAEA,eAAO,OAAP,CAAe;AAId;2BAAmB,aAAa;AAC/B,qBAAM,WAAN,EAAmB,MAAnB,EAD+B;AAE/B,0BAAS,WAAT,CAAsB,eAAO,MAAP,EAAtB,EAAuC,WAAvC,EAF+B;;;;IAJlB;AASd;4BAAoB,UAAU;AAC7B,qBAAM,QAAN,EAAe,MAAf,EAD6B;;AAG7B,OAAK,uBAAS,eAAT,CAAyB,QAAzB,CAAL,EAA0C;AACzC,WAAO,EAAE,KAAK,IAAL,EAAT,CADyC;IAA1C,MAGK;AACJ,mBAAO,KAAP,CAAa,MAAb,CACC,EAAE,OAAO,eAAO,MAAP,EAAP,EADH,EAEC,EAAC,MAAM,EAAE,oBAAoB,QAApB,EAAR,EAFF,EADI;;AAMJ,WAAO,EAAE,KAAK,KAAL,EAAT,CANI;IAHL;;;;IAZa;AAyBd;+BAAuB,UAAU;AAChC,qBAAM,QAAN,EAAgB,MAAhB,EADgC;AAEhC,kBAAO,KAAP,CAAa,MAAb,CACC,EAAE,OAAO,eAAO,MAAP,EAAP,EADH,EAEC,EAAE,MAAM,EAAE,oBAAoB,QAApB,EAAR,EAFH,EAFgC;;;;IAzBnB;CAAf,kH;;;;;;;;;;;ACRA;;AACA;;AACA;;AAEA;;AAEA,eAAO,OAAP,CAAgB,YAAM,EAAN,CAAhB,+E","file":"/app.js","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { Mongo } from 'meteor/mongo';\n\nexport const Locations = new Mongo.Collection('locations');\n\n\nif (Meteor.isServer) { \n\tMeteor.publish('locations', function() {\n\t\treturn Locations.find({});\n\t});\n}\n","import { Meteor } from 'meteor/meteor';\nimport { Mongo } from 'meteor/mongo';\nimport { check } from 'meteor/check';\n\nexport const Messages = new Mongo.Collection('messages');\n\nif (Meteor.isServer) { \n\tMeteor.publish('messages', function(userLocation) {\n\t\treturn Messages.find({\n\t\t\t'userLocation': userLocation\n\t\t});\n\t});\n}\n\nMeteor.methods({\n\n\t'message.updateUserName'(currentUserName, newUserName) {\n\t\tcheck(currentUserName, String)\n\t\tcheck(newUserName, String)\n\t\tMessages.update(\n\t\t\t{ 'username': currentUserName }, \n\t\t\t{ $set: { 'username': newUserName } },\n\t\t\t{ multi: true }\n\t\t);\n\t},\n\n\n\t'message.insert'(text) {\n\t\tMessages.insert({\n\t\t\t'text': text,\n\t\t\t'createAt': new Date(),\n\t\t\t'userLocation': Meteor.user().profile.location,\n\t\t\t'userId': Meteor.userId(),\n\t\t\t'username': Meteor.user().username\n\t\t})\n\t}\n})","import { Meteor } from 'meteor/meteor';\nimport { Mongo } from 'meteor/mongo';\nimport { check } from 'meteor/check';\n\nimport { Messages } from './messages.js'\n\nimport { Accounts } from 'meteor/accounts-base'\n\nMeteor.methods({\n\n\t\n\n\t'accounts.setName'(newUserName) {\n\t\tcheck(newUserName, String)\n\t\tAccounts.setUsername( Meteor.userId(), newUserName );\n\t},\n\n\t'accounts.setEmail'(newEmail) {\n\t\tcheck(newEmail,String);\n\n\t\tif ( Accounts.findUserByEmail(newEmail) ) {\n\t\t\treturn { err: true };\n\t\t}\n\t\telse {\t\n\t\t\tMeteor.users.update (\n\t\t\t\t{ '_id': Meteor.userId() }, \n\t\t\t\t{$set: { 'emails.0.address': newEmail }}\n\t\t\t);\n\n\t\t\treturn { err: false };\n\t\t}\n\t},\n\n\t'accounts.setLocation'(location) {\n\t\tcheck(location, String);\n\t\tMeteor.users.update(\n\t\t\t{ '_id': Meteor.userId() },\n\t\t\t{ $set: { 'profile.location': location } }\n\t\t)\n\t}\n});\n\n\n","import '../imports/api/locations.js';\nimport '../imports/api/messages.js';\nimport '../imports/api/userAccount.js';\n\nimport { Meteor } from 'meteor/meteor';\n\nMeteor.startup( () => { } );\n\n\n"]}